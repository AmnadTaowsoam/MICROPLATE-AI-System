# Infrastructure Environment Variables
# Copy this file to .env and modify as needed

# PostgreSQL Database
POSTGRES_USER=postgres
POSTGRES_PASSWORD=microplate123
POSTGRES_DB=microplates
DATABASE_URL=postgresql://postgres:postgres1611@postgres:35432/microplates

# File Storage Configuration (instead of MinIO)
FILE_STORAGE_BASE_PATH=./shared-storage
FILE_STORAGE_RAW_IMAGES_PATH=./shared-storage/raw-images
FILE_STORAGE_ANNOTATED_IMAGES_PATH=./shared-storage/annotated-images
FILE_STORAGE_INTERFACE_FILES_PATH=./shared-storage/interface-files
FILE_STORAGE_TEMP_FILES_PATH=./shared-storage/temp-files

# File URLs (for serving files via HTTP)
FILE_BASE_URL=http://localhost:6400/files
FILE_RAW_IMAGES_URL=http://localhost:6400/files/raw-images
FILE_ANNOTATED_IMAGES_URL=http://localhost:6400/files/annotated-images
FILE_INTERFACE_FILES_URL=http://localhost:6400/files/interface-files

# Redis Cache
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://redis:6379

# Monitoring
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3001
GRAFANA_ADMIN_PASSWORD=grafana123
JAEGER_URL=http://jaeger:16686

# Application URLs
GATEWAY_URL=http://gateway:6400
AUTH_URL=http://auth-service:6401
IMAGE_INGESION_URL=http://image-ingesion:6402
LABWARE_INTERFACE_URL=http://labware-interface:6403
RESULT_API_URL=http://result-api:6404
VISION_INFERENCE_URL=http://vision-inference:6405
PREDICTION_RESULT_URL=http://prediction-result:6406

FRONTEND_URL=http://localhost:6410

# Timezone
TZ=Asia/Bangkok

# Services
GATEWAY_PORT=6400
AUTH_PORT=6401
IMAGE_INGESION_PORT=6402
LABWARE_INTERFACE_PORT=6403
RESULT_API_PORT=6404
VISION_INFERENCE_PORT=6405
PREDICTION_RESULT_PORT=6406

# =========================
# APPLICATION SETTINGS
# =========================
NODE_ENV=production
LOG_LEVEL=info
LOG_FORMAT=json

# JWT Secrets
JWT_ACCESS_SECRET=NYr5g7vZIxvDja90w5UYoxIj-HxcYDyrBnKDRB9dQ-w
JWT_REFRESH_SECRET=0EnadxxwuzghQMsUDzbXxQLGx4rjqcNtUOJpkBmJYp0=

# =========================
# TOKEN EXPIRY SETTINGS
# =========================
TOKEN_EXPIRY_ACCESS=15m
TOKEN_EXPIRY_REFRESH=7d
PASSWORD_RESET_EXPIRY=30m

# =========================
# SECURITY SETTINGS
# =========================
BCRYPT_ROUNDS=12

# =========================
# CORS CONFIGURATION
# =========================
CORS_ORIGIN=http://localhost:6410
CORS_CREDENTIALS=true

# =========================
# RATE LIMITING
# =========================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =========================
# VISION SERVICE CONFIGURATION
# =========================
VISION_MODEL_PATH=/app/models
VISION_CONFIDENCE_THRESHOLD=0.5
VISION_BATCH_SIZE=1